-----------------------------------------------------------------
      name:  <unnamed>
       log:  /Users/Sun/Desktop/Econometrics/stata/hw1.log
  log type:  text
 opened on:   1 Apr 2017, 10:00:54

. set more off

. 
. // ------ MAIN ------
. foreach x in 5 10 25 50 100 250 500 {
  2.         di "Current sample size = " `x'
  3.         // CHANGE n = 5 obersvations to maybe 10?
.         set obs `x'
  4.         // Let `id` be the indicator of the step (2) counter
> .
.         gen id = _n
  5.         // CHANGE S = 10 to 1000.
.         expand 1000
  6.         sort id
  7. 
.         // Generate uniform data
.         set seed 5142017
  8.         by id: gen s = runiform()
  9. 
.         // Now let's calculate statistics
.         by id: egen p_s_ave = mean(s)
 10.         replace p_s_ave = 2*p_s_ave
 11. 
.         by id: egen p_s_max = max(s)
 12. 
.         // Note that `g` prefix stands for `global`
.         // For average:
.         egen gmu_ave = mean(p_s_ave)
 13.         gen gsigma_ave_tmp = (p_s_ave - 1)^2
 14.         egen gsigma_ave = mean(gsigma_ave_tmp)
 15.         drop gsigma_ave_tmp
 16. 
.         // For maximum:
.         egen gmu_max = mean(p_s_max)
 17.         gen gsigma_max_tmp = (p_s_max - 1)^2
 18.         egen gsigma_max = mean(gsigma_max_tmp)
 19.         drop gsigma_max_tmp
 20. 
.         di "gmu_av e" gmu_ave
 21.         di "gsigma_ave " gsigma_ave
 22.         di "gmu_max " gmu_max
 23.         di "gsigma_max " gsigma_max
 24.         di "_________________________"
 25.         drop _all
 26. }
Current sample size = 5
number of observations (_N) was 0, now 5
(4,995 observations created)
(5,000 real changes made)
gmu_av e1.0033555
gsigma_ave .00017791
gmu_max .99858344
gsigma_max 2.381e-06
_________________________
Current sample size = 10
number of observations (_N) was 0, now 10
(9,990 observations created)
(10,000 real changes made)
gmu_av e.99673373
gsigma_ave .000364
gmu_max .99859256
gsigma_max 2.401e-06
_________________________
Current sample size = 25
number of observations (_N) was 0, now 25
(24,975 observations created)
(25,000 real changes made)
gmu_av e.9958331
gsigma_ave .00031191
gmu_max .99860036
gsigma_max 2.965e-06
_________________________
Current sample size = 50
number of observations (_N) was 0, now 50
(49,950 observations created)
(50,000 real changes made)
gmu_av e.99519676
gsigma_ave .00039362
gmu_max .99860477
gsigma_max 3.362e-06
_________________________
Current sample size = 100
number of observations (_N) was 0, now 100
(99,900 observations created)
(100,000 real changes made)
gmu_av e.99781007
gsigma_ave .00037477
gmu_max .99884659
gsigma_max 2.495e-06
_________________________
Current sample size = 250
number of observations (_N) was 0, now 250
(249,750 observations created)
(250,000 real changes made)
gmu_av e.99941772
gsigma_ave .00031655
gmu_max .99894464
gsigma_max 2.200e-06
_________________________
Current sample size = 500
number of observations (_N) was 0, now 500
(499,500 observations created)
(500,000 real changes made)
gmu_av e.99967915
gsigma_ave .00034394
gmu_max .99898899
gsigma_max 2.118e-06
_________________________

. 
. 
. // line gmu_ave gmu_max id, title("Deviations for Worker 1") xt
> itle("Sample Size") ytitle("mu")
. 
. save "~/Desktop/Econometrics/stata/hw1", replace
no variables defined
r(111);

end of do-file

r(111);

